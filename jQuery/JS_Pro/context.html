<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>执行上下文</title>
  </head>
  <body>
    <!--
      变量提升与函数提升
      * 通过var定义(声明)的变量，在定义语句之前就可以访问
      * undefined
      * 通过function声明的函数，在之前就可以调用
    -->
    <script type="text/javascript">
    console.log('global begin: '+ i)
    var i = 1
    foo(1);
    function foo(i) {
      if (i == 4) {
        return;
      }
      console.log('foo() begin: ' + i);
      foo(i + 1);
      console.log('foo() end: ' + i);
    }
    console.log('global end: ' + i)

    //依次输出
    //   global begin: 1
    //    foo() begin: 1
    //    foo() begin: 2
    //    foo() begin: 3
    //    foo() end: 3
    //    foo() end: 2
    //    foo() end: 1
    //   global end: 1
    </script>

    <script type="text/javascript">
    /*
    测试题1: 先预处理变量, 后预处理函数
    */
    function a() {}
    var a;
    console.log(typeof a) //function


    /*
    测试题2: 变量预处理, in操作符
     */
    if (!(b in window)) {
      var b = 1;
    }
    console.log(b)  //undefined

    /*
    测试题3: 预处理, 顺序执行
     */
    var c = 1
    function c(c) {
      console.log(c)
      var c = 3
    }
    c(2)  //is not function
    // var c ;
    // function c (c) {
    //   console.log(c);
    //   var c =3
    // }
    // c = 1
    // c(2)   //此处的c已经不是函数了
    </script>
  </body>
</html>
